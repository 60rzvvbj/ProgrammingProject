webpackJsonp([4],{"+tzn":function(t,e){},"0RrJ":function(t,e,s){"use strict";e.a=function(t){return i.a.create({timeout:5e3})(t)};var n=s("mtWM"),i=s.n(n)},"1Odv":function(t,e){},"5fbB":function(t,e){},"9HcV":function(t,e){},GgDs:function(t,e,s){"use strict";var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"logo",on:{click:this.logoClick}})])},staticRenderFns:[]};var i=s("VU/8")({name:"Header",methods:{logoClick:function(){this.$router.push("/home")}}},n,!1,function(t){s("UvZu")},null,null);e.a=i.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("/5sW");function i(t,e){var s=new Date(Date.now()+864e5*e).toUTCString();for(var n in t)document.cookie=n+"="+t[n]+"; expires="+s}function o(t,e){return t+Math.random()*(e-t+1)}function a(t,e){return parseInt(o(t,e))}Node.prototype.getCSS=function(t){return function(t,e){var s=t.style.cssText.match(new RegExp("(^|\\s)"+e+": ([^;]+)(;|$)"));return null!=s?s[2]:null}(this,t)},Node.prototype.show=function(){this.style.display="block"},Node.prototype.hide=function(){this.style.display="none"};var r={getCookie:function(t){var e=document.cookie.match(new RegExp("(^|\\s)"+t+"=([^;]+)(;|$)"));return null!=e?e[2]:null},setCookie:i,removeCookie:function(t){var e={};e[t]="",i(e,-1)},getDoubleRandom:o,getIntRandom:a,randomColor:function(t,e){return"rgb("+a(t,e)+","+a(t,e)+","+a(t,e)+")"}},c=s("NYxO");n.a.use(c.a);var u=new c.a.Store({state:{user:{sno:null}},mutations:{setSno:function(t,e){t.user.sno=e},removeSno:function(t){t.user.sno=null}},modules:{}});window.tool=r;var l=r.getCookie("sno");l&&u.commit("setSno",l);var v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var d=s("VU/8")({name:"App",methods:{},created:function(){}},v,!1,function(t){s("WD+i")},null,null).exports,m=s("/ocq"),f=s("GgDs"),h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"homeTitle"},[e("div",{staticClass:"logo"}),this._v(" "),e("div",{staticClass:"seizeASeat"}),this._v(" "),e("div",{staticClass:"search"},[e("input",{attrs:{type:"text"}}),this._v(" "),e("button",{staticClass:"submit"})]),this._v(" "),e("div",{staticClass:"information"})])}]};var p=s("VU/8")({name:"HomeTitle"},h,!1,function(t){s("5fbB")},null,null).exports,_=s("0RrJ");function g(t){return Object(_.a)({method:"get",url:"/userInformation",params:t})}var C={name:"HomeUserInfo",data:function(){return{user:{}}},props:["sno","type"],computed:{sexClass:function(){var t=["sex"];return"edit"==this.type&&t.push("edit"),"男"==this.user.sex?t.push("sexm"):"女"==this.user.sex&&t.push("sexf"),t}},methods:{changeSex:function(){"show"!=this.type&&("男"==this.user.sex?this.user.sex="女":"女"==this.user.sex?this.user.sex="?":this.user.sex="男")},commit:function(){this.$emit("submit",this.user)}},created:function(){var t=this;g({sno:this.sno,type:"complete"}).then(function(e){t.user=e.data,t.user.sno=t.sno}).catch(function(t){console.log(t)})}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homeUserInfo"},[s("div",{staticClass:"baffles"}),t._v(" "),s("div",{staticClass:"userInfoMain"},[s("div",{staticClass:"username"},["show"==t.type?s("span",{staticClass:"content"},[t._v(t._s(t.user.username))]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),s("div",{class:t.sexClass,on:{click:t.changeSex}}),t._v(" "),s("div",{staticClass:"other"},[s("div",{staticClass:"sno"},[t._v("\n        学号：\n        "),s("span",{staticClass:"content"},[t._v(t._s(t.user.sno))])]),t._v(" "),s("div",{staticClass:"age"},[t._v("\n        年龄：\n        "),"show"==t.type?s("span",{staticClass:"content"},[t._v(t._s(t.user.age))]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.age,expression:"user.age"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t.user.age},on:{input:function(e){e.target.composing||t.$set(t.user,"age",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"height"},[t._v("\n        身高：\n        "),"show"==t.type?s("span",{staticClass:"content"},[t._v(t._s(t.user.height))]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.height,expression:"user.height"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t.user.height},on:{input:function(e){e.target.composing||t.$set(t.user,"height",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"weight"},[t._v("\n        体重：\n        "),"show"==t.type?s("span",{staticClass:"content"},[t._v(t._s(t.user.weight))]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.weight,expression:"user.weight"}],staticClass:"content",attrs:{type:"text"},domProps:{value:t.user.weight},on:{input:function(e){e.target.composing||t.$set(t.user,"weight",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"personalProfile"},[s("div",{staticClass:"title"},[t._v("个人简介")]),t._v(" "),"show"==t.type?s("div",{staticClass:"content"},[t._v(t._s(t.user.personalProfile))]):s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.personalProfile,expression:"user.personalProfile"}],staticClass:"content",domProps:{value:t.user.personalProfile},on:{input:function(e){e.target.composing||t.$set(t.user,"personalProfile",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"contactInformation"},[s("div",{staticClass:"title"},[t._v("联系方式")]),t._v(" "),"show"==t.type?s("div",{staticClass:"content"},[t._v(t._s(t.user.contactInformation))]):s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.contactInformation,expression:"user.contactInformation"}],staticClass:"content",domProps:{value:t.user.contactInformation},on:{input:function(e){e.target.composing||t.$set(t.user,"contactInformation",e.target.value)}}})]),t._v(" "),s("button",{on:{click:t.commit}},[t._v("确定")])])])},staticRenderFns:[]};var w=s("VU/8")(C,x,!1,function(t){s("Pq03")},null,null).exports,b={components:{HomeUserInfo:w},name:"HomeUser",data:function(){return{username:null,sno:null,sex:null,userInfoStatus:!1}},computed:{sexClass:function(){var t=["sex"];return"男"==this.sex?t.push("sexm"):"女"==this.sex&&t.push("sexf"),t}},methods:{logout:function(){this.$router.push("/login")},submit:function(t){var e,s=this;this.userInfoStatus=!1,(e={sno:this.sno,username:t.username,sex:t.sex,age:t.age,height:t.height,weight:t.weight,personalProfile:t.personalProfile,contactInformation:t.contactInformation},console.log(e),Object(_.a)({method:"POST",url:"/userInformation",params:e})).then(function(e){e.data.status||alert("修改失败"),s.sex=t.sex,s.username=t.username}).catch(function(t){console.log(t)}),console.log(t)}},created:function(){var t=this;g({sno:this.$store.state.user.sno,type:"simple"}).then(function(e){var s=e.data;s.status?(t.sno=t.$store.state.user.sno,t.username=s.username,t.sex=s.sex):(alert("账号异常！"),t.$router.push("/login"))}).catch(function(t){console.log(t)})}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homeUser"},[s("div",{staticClass:"userInformation"},[s("div",{staticClass:"username"},[t._v(t._s(t.username))]),t._v(" "),s("div",{staticClass:"sno"},[t._v("学号："+t._s(t.sno))]),t._v(" "),s("div",{class:t.sexClass}),t._v(" "),s("div",{staticClass:"edit",on:{click:function(e){t.userInfoStatus=!0}}})]),t._v(" "),t.userInfoStatus?s("home-user-info",{attrs:{sno:t.sno,type:"edit",submit:null},on:{submit:t.submit}}):t._e(),t._v(" "),s("div",{staticClass:"logout",on:{click:t.logout}},[t._v("切换账号")])],1)},staticRenderFns:[]};var I=s("VU/8")(b,y,!1,function(t){s("1Odv")},null,null).exports,$={name:"HomePairingList",data:function(){return{pairingList:[],addStatus:!1,addContent:""}},methods:{submit:function(){console.log(this.addContent)}},created:function(){for(var t="abcdefghijklmnopqretuvwxyz          ",e=0;e<100;e++){for(var s="asd";0!=tool.getIntRandom(0,200);)s+=t[tool.getIntRandom(0,t.length-1)];this.pairingList.push({content:s,bgc:tool.randomColor(180,220)})}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pairingListBox"},[s("div",{staticClass:"pairingListBoxMain"},[s("ul",t._l(t.pairingList,function(e){return s("li",{style:{backgroundColor:e.bgc}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"content"},[t._v(t._s(e.content))]),t._v(" "),s("div",{staticClass:"time"},[t._v("日期：2021/6/2")]),t._v(" "),s("div",{staticClass:"accept"},[t._v("我可以")])])}),0)]),t._v(" "),s("div",{staticClass:"addPairingRequest",on:{click:function(e){t.addStatus=!0}}},[t._v("+")]),t._v(" "),t.addStatus?s("div",{staticClass:"baffles"}):t._e(),t._v(" "),t.addStatus?s("div",{staticClass:"addPairingRequestBox"},[s("div",{staticClass:"title"},[t._v("发起配对")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.addContent,expression:"addContent"}],domProps:{value:t.addContent},on:{input:function(e){e.target.composing||(t.addContent=e.target.value)}}}),t._v(" "),s("button",{staticClass:"submit",on:{click:t.submit}},[t._v("提交")]),t._v(" "),s("button",{staticClass:"close",on:{click:function(e){t.addStatus=!1}}},[t._v("取消")])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"username"},[e("div",{staticClass:"usernameMain"},[this._v("ycx")])])}]};var S=s("VU/8")($,k,!1,function(t){s("9HcV")},null,null).exports,P={name:"HomeTips",data:function(){return{content:"是否确定",acceptText:"是",refuseText:"否"}},props:["data"],methods:{acceptClick:function(){this.$emit("accept")},refuseClick:function(){this.$emit("refuse")}},mounted:function(){void 0!=this.data.content&&(this.content=this.data.content),void 0!=this.data.acceptText&&(this.acceptText=this.data.acceptText),void 0!=this.data.refuseText&&(this.refuseText=this.data.refuseText)}},U={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homeTips"},[s("div",{staticClass:"baffles"}),t._v(" "),s("div",{staticClass:"homeTipsMain"},[s("div",{staticClass:"content"},[t._v(t._s(t.content))]),t._v(" "),s("button",{staticClass:"accept",on:{click:t.acceptClick}},[t._v(t._s(t.acceptText))]),t._v(" "),s("button",{staticClass:"refuse",on:{click:t.refuseClick}},[t._v(t._s(t.refuseText))])])])},staticRenderFns:[]};var H={name:"HomeFriendList",data:function(){return{inputBox:null,friendList:null,userInfoStatus:!1,sno:null}},methods:{showUserInfo:function(t){this.sno=t,this.userInfoStatus=!0},closeInfo:function(){this.userInfoStatus=!1}},created:function(){var t,e=this;(t={sno:this.$store.state.user.sno},Object(_.a)({method:"get",url:"/friendList",params:t})).then(function(t){e.friendList=t.data.friendList}).catch(function(t){console.log(t)})},mounted:function(){this.inputBox=this.$el.querySelector(".controller > .search > input")},components:{HomeUserInfo:w,HomeTips:s("VU/8")(P,U,!1,function(t){s("xt2L")},null,null).exports}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"frindListBox"},[s("div",{staticClass:"title"},[t._v("好友列表")]),t._v(" "),t._m(0),t._v(" "),s("ul",t._l(t.friendList,function(e){return s("li",{on:{click:function(s){return t.showUserInfo(e.sno)}}},[s("div",{staticClass:"username"},[t._v(t._s(e.username))]),t._v(" "),s("div",{staticClass:"sno"},[t._v("学号："+t._s(e.sno))])])}),0),t._v(" "),t.userInfoStatus?s("home-user-info",{attrs:{sno:t.sno,type:"show"},on:{submit:t.closeInfo}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"controller"},[e("div",{staticClass:"search"},[e("input",{attrs:{type:"text"}}),this._v(" "),e("button")]),this._v(" "),e("div",{staticClass:"addFriend"}),this._v(" "),e("div",{staticClass:"removeFriend"})])}]};var T=s("VU/8")(H,R,!1,function(t){s("+tzn")},null,null).exports,L={name:"Home",components:{Header:f.a,HomeTitle:p,HomeUser:I,HomePairingList:S,HomeFriendList:T}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[e("div",{staticClass:"titleBox updown"},[e("div",{staticClass:"left"},[e("home-title")],1),this._v(" "),e("div",{staticClass:"right"},[e("home-user")],1)]),this._v(" "),e("div",{staticClass:"content updown"},[e("div",{staticClass:"left"},[e("home-pairing-list")],1),this._v(" "),e("div",{staticClass:"right"},[e("home-friend-list")],1)])])},staticRenderFns:[]};var N=s("VU/8")(L,E,!1,function(t){s("j5n/")},null,null).exports;n.a.use(m.a);var F=[{path:"/home",redirect:"/"},{path:"/",name:"Home",component:N},{path:"/login",name:"Login",component:function(){return s.e(2).then(s.bind(null,"ook+"))},children:[{path:"/login/",component:function(){return s.e(1).then(s.bind(null,"5oUq"))}},{path:"/login/register",component:function(){return s.e(0).then(s.bind(null,"DMJv"))}}]}],V=new m.a({mode:"history",base:Object({NODE_ENV:"production"}).BASE_URL,routes:F});V.beforeResolve(function(t,e,s){var n=u.state.user.sno;"/login"!=t.path&&"/login/register"!=t.path?null!=n?s():s("/login"):s()});var B=V;n.a.config.productionTip=!1,window.rm=new n.a({el:"#app",router:B,store:u,render:function(t){return t(d)}})},Pq03:function(t,e){},UvZu:function(t,e){},"WD+i":function(t,e){},"j5n/":function(t,e){},xt2L:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.36eeebe99eca715f6c5f.js.map